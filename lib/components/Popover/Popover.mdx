import { Story, Meta, Canvas, Controls } from "@storybook/addon-docs";
import Popover from ".";
import * as stories from "./Popover.stories";

<Meta of={stories} />

# Popover

[Default Popover](#default-Popover) | [Directions](#directions) | [Specified width](#specified-width) | [Text alignment](#text-alignment) | [Display inline-block](#display-inline-block) | [Tooltip example](#tooltip-example) | [Icon example](#popover-with-icon-trigger) | [Custom Offset](#custom-offset) | [Properties](#properties)

This popover component is intended to be used to supplement buttons (or other elements) that require some helper text. It supports customisation of direction and width. This is so that you can ensure that the popover doesn't run off the screen, and that the width suits the amount of text in the popover.

If you don't specify a width, 200px is the default, but as a general guide try and keep widths somewhere between 150-250 if you are modifying. Make sure if setting width you include the unit you want it to use, e.g. pixels, %.

The component also supports custom offset positioning to fine-tune the popover's placement relative to its trigger element.

## Default

<Canvas of={stories.defaultPopover} />

## Directions

Use direction prop to set the direction of the tooltip so that it is positioned in a good place relative to the user interface around it. By default this is set to right. For example, you might use left instead if the element that triggers the popover is on the right side edge of the browser, so that the tooltip does not go off the edge of the screen.

<Canvas of={stories.direction} />

## Specified width

The width prop should be used to tailor the size of the popover to the content that will be presented inside it. Try and select a width that best suits the content.

<Canvas of={stories.specifiedWidth} />

## Text alignment

Use this to set the text alignment to what looks best. Typically one to a few words will look better centered, a sentence or paragraph will look better left aligned. Left aligned is set by default so only really need to make use of this prop if you want the tooltip text centered.

<Canvas of={stories.textAlignment} />

## Display inline-block

Use this prop if the Popover tooltip does not look correct, in some cases it will need to be displayed as inline-block.

<Canvas of={stories.DisplayInlineBlock} />

## Tooltip example

Use this example when you want to use popover as a tooltip

<Canvas of={stories.tooltipExample} />

Tooltip with link example

<Canvas of={stories.tooltipWithLinkExample} />

## Popover with Icon trigger

<Canvas of={stories.iconExample} />

## Keep In View Example

If the tooltip falls outside the view port, the direction is changed to bring it back into view. In this case the default is to right align the Popover but it must be left aligned to be visible.

<Canvas of={stories.keepInViewExample} />

## Custom Offset

You can customize the offset positioning of the popover using the `offset` prop. This allows you to fine-tune the popover's placement relative to its trigger element.

The offset can be specified as:

- An object with `mainAxis` and/or `alignmentAxis` properties
- A function that receives the rects and returns an offset object

**Examples:**

- `{ mainAxis: 20 }` - Move the popover 20px away from the trigger on the main axis
- `{ alignmentAxis: -10 }` - Move the popover 10px in the opposite direction on the alignment axis (for aligned placements like `top-start`, `top-end`, etc.)
- `{ mainAxis: 15, alignmentAxis: 5 }` - Combine both axes

**Note:** For simple placements (`right`, `left`, `top`, `bottom`), the `alignmentAxis` property is automatically converted to `crossAxis` to ensure proper vertical/horizontal positioning.

<Canvas of={stories.customOffset} />

## Properties

<Controls component={Popover} />
